<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Chatty</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <!-- –≠–∫—Ä–∞–Ω –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ -->
    <div class="auth-screen" id="authScreen">
        <div class="auth-form">
            <h2 id="authTitle">–í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É</h2>
            <div class="error" id="authError" style="display: none;"></div>
            <input type="text" id="username" placeholder="–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è" autocomplete="username">
            <input type="text" id="displayName" placeholder="–û—Ç–æ–±—Ä–∞–∂–∞–µ–º–æ–µ –∏–º—è" style="display: none;">
            <input type="password" id="password" placeholder="–ü–∞—Ä–æ–ª—å" autocomplete="current-password">
            <button id="authBtn">–í–æ–π—Ç–∏</button>
            <button class="switch-btn" id="switchBtn">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</button>
        </div>
    </div>

    <!-- –û—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ -->
    <div class="main-app" id="mainApp">
        <div class="app-container">
            <!-- –õ–µ–≤–∞—è –ø–∞–Ω–µ–ª—å -->
            <div class="sidebar" id="sidebar">
                <div class="sidebar-header">
                    <h3 id="currentUser">–ß–∞—Ç—ã</h3>
                    <div class="header-buttons">
                        <button class="profile-btn" id="settingsBtn" title="–ù–∞—Å—Ç—Ä–æ–π–∫–∏">‚öôÔ∏è</button>
                        <button class="profile-btn" id="profileBtn" title="–ü—Ä–æ—Ñ–∏–ª—å">üë§</button>
                    </div>
                </div>
                <div class="search-container">
                    <input type="text" id="userSearch" placeholder="–ü–æ–∏—Å–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π...">
                </div>
                <div class="chats-list" id="chatsList">
                    <!-- –ß–∞—Ç—ã –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                </div>
            </div>

            <!-- –ü—Ä–∞–≤–∞—è –ø–∞–Ω–µ–ª—å - —á–∞—Ç -->
            <div class="chat-area" id="chatArea">
                <div class="chat-header" id="chatHeader">
                    <div class="chat-header-left">
                        <button class="back-btn" id="backBtn">‚Üê</button>
                        <div class="chat-avatar-container">
                            <img class="chat-avatar" id="chatAvatar" src="" alt="">
                        </div>
                        <div class="chat-title-container">
                            <span class="chat-title" id="chatTitle">–ß–∞—Ç</span>
                        </div>
                    </div>
                    <button class="profile-btn" id="chatProfileBtn">–ü—Ä–æ—Ñ–∏–ª—å</button>
                </div>
                <div class="chat-messages" id="chatMessages">
                    <div class="no-chat">–í—ã–±–µ—Ä–∏—Ç–µ —á–∞—Ç –¥–ª—è –Ω–∞—á–∞–ª–∞ –æ–±—â–µ–Ω–∏—è!</div>
                </div>
                <div class="chat-input" id="chatInput">
                    <div class="input-container">
                        <input type="text" id="messageInput" placeholder="–í–≤–µ–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ...">
                        <button class="send-btn" id="sendBtn">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
                    </div>
                </div>
            </div>

            <!-- –≠–∫—Ä–∞–Ω –Ω–∞—Å—Ç—Ä–æ–µ–∫ -->
            <div class="settings-area" id="settingsArea">
                <div class="settings-header">
                    <div class="settings-header-left">
                        <button class="back-btn" id="settingsBackBtn">‚Üê</button>
                        <span class="settings-title">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</span>
                    </div>
                </div>
                <div class="settings-content">
                    <div class="settings-category" data-category="profile">
                        <div class="category-icon">üë§</div>
                        <div class="category-info">
                            <div class="category-title">–ü—Ä–æ—Ñ–∏–ª—å</div>
                            <div class="category-description">–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –≤–∞—à –ø—Ä–æ—Ñ–∏–ª—å –Ω–∞ –≤–∞—à –≤–∫—É—Å</div>
                        </div>
                        <div class="category-arrow">‚Ä∫</div>
                    </div>

                    <div class="settings-category" data-category="password">
                        <div class="category-icon">üîê</div>
                        <div class="category-info">
                            <div class="category-title">–ò–∑–º–µ–Ω–∏—Ç—å –ø–∞—Ä–æ–ª—å</div>
                            <div class="category-description">–°–º–µ–Ω–∏—Ç–µ –ø–∞—Ä–æ–ª—å –¥–ª—è –∑–∞—â–∏—Ç—ã –∞–∫–∫–∞—É–Ω—Ç–∞</div>
                        </div>
                        <div class="category-arrow">‚Ä∫</div>
                    </div>

                    <div class="settings-bottom">
                        <button class="logout-btn" id="logoutBtn">–í—ã–π—Ç–∏</button>
                        <div class="settings-credits">
                            <div class="credits-title">–°–¥–µ–ª–∞–Ω–æ —Å –ª—é–±–æ–≤—å—é</div>
                            <div class="credits-names">Woolsane & sxmeblessed</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ø—Ä–æ—Ñ–∏–ª—è -->
    <div class="modal" id="profileModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>–ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</h3>
                <button class="close-btn" id="closeModal">&times;</button>
            </div>
            <div class="profile-info" id="profileInfo">
                <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ—Ñ–∏–ª–µ -->
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –ø—Ä–æ—Ñ–∏–ª—è -->
    <div class="modal" id="profileSettingsModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ—Ñ–∏–ª—è</h3>
                <button class="close-btn" id="closeProfileSettingsModal">&times;</button>
            </div>
            <div class="settings-form">
                <div class="error" id="profileSettingsError" style="display: none;"></div>

                <!-- –ê–≤–∞—Ç–∞—Ä–∫–∞ -->
                <div class="form-group avatar-group">
                    <div class="avatar-upload-container">
                        <img class="avatar-preview" id="avatarPreview" src="" alt="–ê–≤–∞—Ç–∞—Ä">
                        <div class="avatar-overlay" id="avatarOverlay">
                            <span>–ò–∑–º–µ–Ω–∏—Ç—å –∞–≤–∞—Ç–∞—Ä</span>
                        </div>
                        <input type="file" id="avatarInput" accept="image/*,video/*" style="display: none;">
                    </div>
                </div>

                <!-- –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è -->
                <div class="form-group">
                    <label for="profileSettingsUsername">–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:</label>
                    <input type="text" id="profileSettingsUsername" placeholder="@username" maxlength="50">
                    <div class="input-hint">–£–Ω–∏–∫–∞–ª—å–Ω–æ–µ –∏–º—è –¥–ª—è –ø–æ–∏—Å–∫–∞ –∏ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏</div>
                </div>

                <div class="form-group">
                    <label for="profileSettingsDisplayName">–û—Ç–æ–±—Ä–∞–∂–∞–µ–º–æ–µ –∏–º—è:</label>
                    <input type="text" id="profileSettingsDisplayName" placeholder="–í–∞—à–µ –∏–º—è" maxlength="100">
                    <div class="input-hint">–ò–º—è, –∫–æ—Ç–æ—Ä–æ–µ –≤–∏–¥—è—Ç –¥—Ä—É–≥–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏</div>
                </div>

                <div class="form-group">
                    <label for="profileSettingsDescription">–û–ø–∏—Å–∞–Ω–∏–µ:</label>
                    <textarea id="profileSettingsDescription" placeholder="–†–∞—Å—Å–∫–∞–∂–∏—Ç–µ –æ —Å–µ–±–µ..." rows="3" maxlength="500"></textarea>
                    <div class="input-hint character-count">
                        <span id="descriptionCount">0</span>/500 —Å–∏–º–≤–æ–ª–æ–≤
                    </div>
                </div>

                <button id="saveProfileSettingsBtn" class="save-btn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è</button>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å–º–µ–Ω—ã –ø–∞—Ä–æ–ª—è -->
    <div class="modal" id="passwordChangeModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>–ò–∑–º–µ–Ω–∏—Ç—å –ø–∞—Ä–æ–ª—å</h3>
                <button class="close-btn" id="closePasswordChangeModal">&times;</button>
            </div>
            <div class="settings-form">
                <div class="error" id="passwordChangeError" style="display: none;"></div>

                <div class="form-group">
                    <label for="currentPassword">–¢–µ–∫—É—â–∏–π –ø–∞—Ä–æ–ª—å:</label>
                    <input type="password" id="currentPassword" placeholder="–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—É—â–∏–π –ø–∞—Ä–æ–ª—å">
                </div>

                <div class="form-group">
                    <label for="newPassword">–ù–æ–≤—ã–π –ø–∞—Ä–æ–ª—å:</label>
                    <input type="password" id="newPassword" placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–æ–≤—ã–π –ø–∞—Ä–æ–ª—å">
                    <div class="input-hint">–ú–∏–Ω–∏–º—É–º 6 —Å–∏–º–≤–æ–ª–æ–≤</div>
                </div>

                <div class="form-group">
                    <label for="confirmPassword">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –Ω–æ–≤—ã–π –ø–∞—Ä–æ–ª—å:</label>
                    <input type="password" id="confirmPassword" placeholder="–ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –Ω–æ–≤—ã–π –ø–∞—Ä–æ–ª—å">
                </div>

                <button id="changePasswordBtn" class="save-btn">–ò–∑–º–µ–Ω–∏—Ç—å –ø–∞—Ä–æ–ª—å</button>
            </div>
        </div>
    </div>

    <script src="/socket.io/socket.io.js"></script>
    <script src="script.js"></script>
</body>
</html>
